<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Online Bookstore Inventory</title>
    <meta charset="UTF-8"/>
    <style>
        body { font-family: Arial, sans-serif; background: #fafafa; margin: 40px; }
        h1 { color: #333; }
        table { border-collapse: collapse; width: 80%; margin-top: 20px; }
        th, td { padding: 10px; border: 1px solid #ccc; text-align: left; }
        th { background-color: #f2f2f2; }
    </style>
</head>

<body th:attr="data-inventory-id=${inventory.id}">
<h1>Bookstore Inventory</h1>
<h2>Add a New Book</h2>

<form id="addBookForm" th:object="${newBook}">
    <label>Title: <input type="text" th:field="*{bookTitle}" required/></label><br/>
    <label>Genre: <input type="text" th:field="*{bookGenre}" required /></label><br/>
    <label>Price: <input type="number" step="0.01" th:field="*{bookPrice}" required /></label><br/>
    <label>ISBN: <input type="text" th:field="*{bookISBN}" required /></label><br/>
    <button type="submit">Add Book</button>
</form>

<table>
    <thead>
    <tr>
        <th>Title</th>
        <th>Genre</th>
        <th>Price</th>
        <th>ISBN</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody id="booksBody">
    <!-- Thymeleaf fallback (optional) -->
    <tr th:each="book : ${books}" th:attr="data-book-id=${book.id}">
        <td th:text="${book.bookTitle}"></td>
        <td th:text="${book.bookGenre}"></td>
        <td th:text="${book.bookPrice}"></td>
        <td th:text="${book.bookISBN}"></td>
        <td>
            <form th:action="@{/removeBook/{id}(id=${book.id})}" method="post" style="display:inline">
                <button type="submit">Remove</button>
            </form>
        </td>
    </tr>
    </tbody>
</table>

<script src="/js/inventory.js"></script>
</body>
</html>
